define(function(require,exports,module){require("plugin/jquery"),function($){"use strict";var t=".dropdown-backdrop",d='[data-toggle="dropdown"]',o=function(t){$(t).on("click.bs.dropdown",this.toggle)};function i(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&$(document).find(e);return n&&n.length?n:t.parent()}function a(o){o&&3===o.which||($(t).remove(),$(d).each(function(){var t=$(this),e=i(t),n={relatedTarget:this};e.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&$.contains(e[0],o.target)||(e.trigger(o=$.Event("hide.bs.dropdown",n)),o.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger($.Event("hidden.bs.dropdown",n)))))}))}o.VERSION="3.4.0",o.prototype.toggle=function(t){var e=$(this);if(!e.is(".disabled, :disabled")){var n=i(e),o=n.hasClass("open");if(a(),!o){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",a);var r={relatedTarget:this};if(n.trigger(t=$.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger($.Event("shown.bs.dropdown",r))}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=$(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=i(e),o=n.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&n.find(d).trigger("focus"),e.trigger("click");var r=n.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var a=r.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<r.length-1&&a++,~a||(a=0),r.eq(a).trigger("focus")}}}};var e=$.fn.dropdown;$.fn.dropdown=function(n){return this.each(function(){var t=$(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new o(this)),"string"==typeof n&&e[n].call(t)})},$.fn.dropdown.Constructor=o,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=e,this},$(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",d,o.prototype.toggle).on("keydown.bs.dropdown.data-api",d,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery)});