define(function(require,exports,module){var i,$=require("plugin/jquery"),e=5,d=0,c=[];function n(i){c.push(i),d=c.length,$("#chooseCount").text(d)}function s(){d===e?$("#confirmEntry").attr("disabled",!1):$("#confirmEntry").attr("disabled",!0)}$(".quick-all-item a").on("click",function(){var i=$(this).parents(".quick-all-item"),a=i.data("id"),t=i.find("span").text();if(e<=d)return alert("快捷入口不能超过"+e+"个"),!1;i.hasClass("added")||(i.addClass("added"),n(a),$(".quick-choose .quick-list").append('<div class="quick-item" data-id="'+a+'"><span>'+t+'</span><a href="javascript:void(0);" class="del">&times;</a></div>')),s()}),i=$(".quick-choose .quick-list"),d=i.find(".quick-item").size(),i.find(".quick-item").each(function(){var i=$(this).data("id");""==i&&null==i||(n(i),$(".quick-all-item[data-id="+i+"]").addClass("added"))}),s(),i.off("click",".del").on("click",".del",function(i){var t,a=$(this).parents(".quick-item"),e=a.data("id");a.remove(),t=e,$.each(c,function(i,a){a===t&&c.splice(i,1)}),d=c.length,$("#chooseCount").text(d),$(".quick-all-item[data-id="+e+"]").removeClass("added"),s()})});